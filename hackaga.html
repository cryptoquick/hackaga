<head>
  <title>hackaga</title>
</head>

<body>
  {{> game}}
</body>

<template name="game">
  <header>
    <h1>Hackaga</h1>
  </header>
  <div id="container">
    <svg>
      <defs>
        <pattern id="gmo" x="0" y="0" height="59" width="80" patternUnits="objectBoundingBox" >
            <image xlink:href="graphics/gmo.jpg" x="0" y="0" width="80" height="59" />
        </pattern>
      </defs>
      {{> swarm}}
      <g transform="translate({{playerX}}, {{playerY}})">
        {{> tractor}}
      </g>
      {{#each missiles}}
        {{#unless deleted}}
          <rect transform="translate({{x}}, {{y}})" x="0" y="0" width="80" height="59" class="missile {{burst}}" fill="url(#gmo)"></rect>
        {{/unless}}
      {{/each}}
      {{#each explosions}}
          <g transform="translate({{x}}, {{y}})" >
            {{graphic}}
            {{#if graphicIs "0"}}
              {{> explosion}}
            {{/if}}
            {{#if graphicIs "1"}}
              {{> explosion1}}
            {{/if}}
            {{#if graphicIs "4"}}
              {{> explosion4}}
            {{/if}}
          </g>
      {{/each}}
    </svg>
    <div id="message"></div>
  </div>
</template>
